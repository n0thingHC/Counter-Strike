<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InfoStrike</title>
    <!-- Link do Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Link dos ícones do Bootstrap -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <link rel="stylesheet" href="css.css">
</head>
<body>
    <!-- Cabeçalho -->
    <header class="bg-warning py-3 d-flex align-items-center justify-content-between">
        <!-- Botão do Menu no canto esquerdo -->
        <button class="btn btn-dark" data-bs-toggle="offcanvas" data-bs-target="#sidebar" aria-controls="sidebar">
            <i class="bi bi-list"></i> Menu
        </button>
        <!-- Logo centralizada -->
        <img src="banner.jpeg" alt="Logo InfoStrike" class="logo mx-auto d-block">
        <!-- Botão de Tema no canto direito -->
        <button id="dark-mode-toggle" class="btn btn-dark">
            <i class="bi bi-moon-fill"></i> Tema
        </button>
    </header>

    <!-- Menu Lateral -->
    <div class="offcanvas offcanvas-start bg-warning" tabindex="-1" id="sidebar" aria-labelledby="sidebarLabel">
        <div class="offcanvas-header">
            <h5 id="sidebarLabel" class="text-dark"></h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
        </div>
        <div class="offcanvas-body">
            <ul class="list-unstyled">
                <li><a href="index.html" class="text-dark"><i class="bi bi-house-fill"></i> Home</a></li>
                <li><a href="historia.html" class="text-dark"><i class="bi bi-book"></i> História</a></li>
                <li><a href="modos.html" class="text-dark"><i class="bi bi-controller"></i> Modos de Jogo</a></li>
                <li><a href="campeonatos.html" class="text-dark"><i class="bi bi-trophy-fill"></i> Campeonatos</a></li>
                <li><a href="mapas.html" class="text-dark"><i class="bi bi-map"></i> Mapas</a></li>
                <li><a href="armas.html" class="text-dark"><i class="bi bi-crosshair"></i> Armas</a></li>
                <li><a href="comunidade.html" class="text-dark"><i class="bi bi-people-fill"></i> Comunidade</a></li>
                <li><a href="contato.html" class="text-dark"><i class="bi bi-envelope"></i> Contato</a></li>
                <li><a href="noticias.html" class="text-dark"><i class="bi bi-newspaper"></i> Noticias</a></li>
                <li><a href="ranking.html" class="text-dark"><i class="bi bi-graph-up-arrow"></i> Ranking</a></li>
                <li><a href="galeria.html" class="text-dark"><i class="bi bi-card-image"></i> Galeria</a></li>
                <li><a href="como-funciona.html" class="text-dark"><i class="bi bi-card-image"></i> Como Funciona</a></li>
            </ul>
        </div>
    </div>

    <!-- Cabeçalho da página de Campeonatos -->
    <header>
        <h1>Próximos Grandes Campeonatos de Counter-Strike</h1>
    </header>

    <section>
        <div class="lista-campeonatos" id="lista-campeonatos">
            <!-- Campeonatos serão adicionados aqui -->
        </div>

        <div id="form-campeonato">
            <h2>Adicionar Campeonato</h2>
            <input type="text" id="nome" placeholder="Nome do Campeonato" required>
            <input type="text" id="premiacao" placeholder="Premiação" required>
            <input type="text" id="data" placeholder="Data" required>
            <input type="text" id="local" placeholder="Local" required>
            <input type="file" id="logo" accept="image/*" required>
            <input type="file" id="bandeira" accept="image/*" required>
            <button onclick="adicionarCampeonato()" class="btn btn-primary">Adicionar Campeonato</button>
        </div>
    </section>

    <footer>
        <p>&copy; 2024 Próximos Grandes Campeonatos de Counter-Strike. Todos os direitos reservados.</p>
    </footer>

    <script>
        let campeonatos = JSON.parse(localStorage.getItem('campeonatos')) || [];
        let campeonatoEditandoIndex = null;

        function atualizarLista() {
            const lista = document.getElementById('lista-campeonatos');
            lista.innerHTML = '';

            campeonatos.forEach((campeonato, index) => {
                const div = document.createElement('div');
                div.className = 'campeonato';
                div.innerHTML = `
                    <img class="logo-campeonato" src="${campeonato.logo}" alt="Logo ${campeonato.nome}">
                    <div class="info-campeonato">
                        <h2>${campeonato.nome}</h2>
                        <p><strong>Premiação:</strong> ${campeonato.premiacao}</p>
                        <p><strong>Data:</strong> ${campeonato.data}</p>
                        <p class="localização"><strong>Local:</strong> ${campeonato.local} <img src="${campeonato.bandeira}" alt="Bandeira ${campeonato.local}"></p>
                        <button onclick="editarCampeonato(${index})">Editar</button>
                        <button onclick="removerCampeonato(${index})">Remover</button>
                    </div>
                `;
                lista.appendChild(div);
            });
        }

        function adicionarCampeonato() {
            const nome = document.getElementById('nome').value;
            const premiacao = document.getElementById('premiacao').value;
            const data = document.getElementById('data').value;
            const local = document.getElementById('local').value;

            const logoFile = document.getElementById('logo').files[0];
            const bandeiraFile = document.getElementById('bandeira').files[0];

            const readerLogo = new FileReader();
            const readerBandeira = new FileReader();

            readerLogo.onload = function () {
                const logo = readerLogo.result;
                readerBandeira.onload = function () {
                    const bandeira = readerBandeira.result;

                    if (campeonatoEditandoIndex !== null) {
                        campeonatos[campeonatoEditandoIndex] = { nome, premiacao, data, local, logo, bandeira };
                        campeonatoEditandoIndex = null;
                    } else {
                        campeonatos.push({ nome, premiacao, data, local, logo, bandeira });
                    }

                    localStorage.setItem('campeonatos', JSON.stringify(campeonatos));
                    atualizarLista();

                    document.getElementById('form-campeonato').reset();
                };
                readerBandeira.readAsDataURL(bandeiraFile);
            };
            readerLogo.readAsDataURL(logoFile);
        }

        function editarCampeonato(index) {
            const campeonato = campeonatos[index];
            document.getElementById('nome').value = campeonato.nome;
            document.getElementById('premiacao').value = campeonato.premiacao;
            document.getElementById('data').value = campeonato.data;
            document.getElementById('local').value = campeonato.local;

            // Armazena o índice para edição
            campeonatoEditandoIndex = index;
        }

        function removerCampeonato(index) {
            campeonatos.splice(index, 1);
            localStorage.setItem('campeonatos', JSON.stringify(campeonatos));
            atualizarLista();
        }

        // Inicializa a lista de campeonatos
        atualizarLista();
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
</body>
</html>
